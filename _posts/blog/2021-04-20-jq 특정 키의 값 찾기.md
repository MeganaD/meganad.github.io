---
layout: post
title: jq νΉμ • ν‚¤μ κ°’ μ°ΎκΈ°
subtitle: Find value by Key(name) with jq
tag: [linux]
published: True
---

μΏ λ²„λ„¤ν‹°μ¤ μ‹¤μµμ„ ν•λ‹¤λ³΄λ©΄ λ…Έλ“λ‚ νλ“μ μ •λ³΄λ¥Ό ν™•μΈν•λ” κ²½μ°κ°€ λ§μ΄ λ‚μ¨λ‹¤.  
"kubectl describe node" μ μ •λ³΄λ” λ³΄κΈ°μΆ‹κ² μ λ‚μ¤κΈ΄ ν•μ§€λ§ μ›λ‚™ λ‚΄μ©μ΄ λ§μ•„μ„ νΉμ • ν‚¤λ§ ν™•μΈν• λ•λ” μΆ€ κ·€μ°®λ‹¤.(μµμ™ν•λ‹¤λ©΄ μ–΄λ μ„μΉμ— λ‚μ¤λ”μ§€ μ•κ² μ§€λ§π‘)   

μ΄λ• μ •ν™•ν• μ΄λ¦„μ„ μ•λ‹¤λ©΄ jq λ¥Ό ν™μ©ν•΄λ³Όμ μλ‹¤.  
κ°€λ Ή λ…Έλ“μ machineID λ¥Ό μ°Ύλ”λ‹¤λ©΄  
`kubectl get node -o json | jq '.status.nodeInfo.machineID'` μΌλ΅ ν•΄λ‹Ή ν‚¤ λ‚΄μ©λ§ ν™•μΈ ν•  μμλ‹¤.  
![](../../img/2021-04-20-jq%20νΉμ •%20ν‚¤μ%20κ°’%20μ°ΎκΈ°/2021-04-20-23-56-44.png)  

κ·Όλ°, λ‚μ²λΌ k8s μ΄λ³΄μλ” μ •ν™•ν• μ„μΉ(".status.nodeInfo.machineID")λ¥Ό λ¨λ¥Ό κ°€λ¥μ„±μ΄ λ†’λ‹¤.  
μ΄λ• ν‚¤ μ΄λ¦„λ§μΌλ΅ κ°’μ„ μ°Ύλ” λ°©λ²•μ΄λ‹¤.  
`kubectl get node -o json | jq '..|.machineID?|select(.!=null)'`  
μ΄λ ‡κ² ν•λ©΄ μ •ν™•ν• μ„μΉλ¥Ό λ°λΌλ„ machineIDλ§ μ°Ύμ•„μ„ λ³΄μ—¬μ¤€λ‹¤.  
![](../../img/2021-04-20-jq%20νΉμ •%20ν‚¤μ%20κ°’%20μ°ΎκΈ°/2021-04-20-23-57-30.png)

<script src="https://gist.github.com/MeganaD/b118bae80a8311d0b303910753aecaf7.js"></script>  
μ΄ λ°©μ‹μΌλ΅ λ‹¤λ¥Έ jsonμ—μ„λ„ νΉμ • μ΄λ¦„(ν‚¤)μ κ°’λ§ ν™•μΈν•  μ μλ‹¤.




